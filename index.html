<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¾ í…Œë‹ˆìŠ¤ NTRP ë ˆë²¨ í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .question-card {
            margin-bottom: 30px;
        }

        .question-card h2 {
            color: #666;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .question {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 15px;
            line-height: 1.6;
            font-weight: 500;
        }

        .question-description {
            font-size: 1rem;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.5;
            font-style: italic;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .option .score {
            font-weight: bold;
            font-size: 1.2rem;
            margin-right: 15px;
            min-width: 40px;
        }

        .option .description {
            flex: 1;
            font-size: 1rem;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .nav-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .nav-btn.prev {
            background: #f0f0f0;
            color: #666;
        }

        .nav-btn.prev:hover {
            background: #e0e0e0;
        }

        .nav-btn.next,
        .nav-btn.submit {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .nav-btn.next:hover,
        .nav-btn.submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .result-card h2 {
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .ntrp-level {
            font-size: 4rem;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .description {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .stats {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .stats p {
            margin: 5px 0;
            font-size: 1rem;
        }

        .detailed-analysis {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .detailed-analysis h3 {
            color: #333;
            margin-bottom: 25px;
            font-size: 1.5rem;
            text-align: center;
        }

        .detailed-analysis h4 {
            color: #555;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .score-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .score-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .category-name {
            min-width: 80px;
            font-weight: 600;
            color: #333;
        }

        .score-bar {
            flex: 1;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .score-value {
            min-width: 40px;
            font-weight: 600;
            color: #333;
            text-align: right;
        }

        .strengths-weaknesses {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .strengths, .weaknesses {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .strengths h4 {
            color: #28a745;
        }

        .weaknesses h4 {
            color: #dc3545;
        }

        .strengths ul, .weaknesses ul {
            list-style: none;
            padding: 0;
        }

        .strengths li, .weaknesses li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .strengths li:last-child, .weaknesses li:last-child {
            border-bottom: none;
        }

        .improvement-suggestions {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .improvement-suggestions h4 {
            color: #007bff;
        }

        .improvement-suggestions ul {
            list-style: none;
            padding: 0;
        }

        .improvement-suggestions li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            line-height: 1.6;
        }

        .improvement-suggestions li:last-child {
            border-bottom: none;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .question {
                font-size: 1.1rem;
            }
            
            .option {
                padding: 15px;
            }
            
            .ntrp-level {
                font-size: 3rem;
            }
            
            .strengths-weaknesses {
                grid-template-columns: 1fr;
            }
            
            .score-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .category-name {
                min-width: auto;
            }
            
            .score-value {
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="app">
        <!-- ì•± ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
    </div>

    <script>
        // NTRP ì§ˆë¬¸ ë°ì´í„°
        const questions = {
            "forehand": {
                "question": "í¬í•¸ë“œë¥¼ ì›í•˜ëŠ” ê³³ìœ¼ë¡œ ë³´ë‚¼ ìˆ˜ ìˆë‚˜ìš”?",
                "description": "í¬í•¸ë“œì˜ ë°©í–¥ ì œì–´ì™€ ê¹Šì´ ì¡°ì ˆ ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - ê³µì„ ë•Œë¦¬ê¸´ í•˜ëŠ”ë° ì–´ë””ë¡œ ê°ˆì§€ ëª¨ë¦„",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ê°„ë‹¨í•œ ë°©í–¥ì€ ì–´ëŠ ì •ë„ ê°€ëŠ¥",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - ì¤‘ê°„ ì†ë„ì—ì„œëŠ” ë°©í–¥ ì œì–´ ê°€ëŠ¥",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - ê¹Šì´ì™€ ë°©í–¥ì„ ì˜ ì¡°ì ˆí•¨",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - ì–´ë–¤ ìƒí™©ì—ì„œë„ ì •í™•í•œ í¬í•¸ë“œ"
                }
            },
            "backhand": {
                "question": "ë°±í•¸ë“œë¥¼ ì›í•˜ëŠ” ê³³ìœ¼ë¡œ ë³´ë‚¼ ìˆ˜ ìˆë‚˜ìš”?",
                "description": "ë°±í•¸ë“œì˜ ì¼ê´€ì„±ê³¼ ë°©í–¥ ì œì–´ ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - ë°±í•¸ë“œ í”¼í•˜ê³  ëŒì•„ì„œ í¬í•¸ë“œë¡œ ì¹˜ë ¤ í•¨",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ë°±í•¸ë“œ ì¹˜ê¸´ í•˜ëŠ”ë° ë¶ˆì•ˆì •í•¨",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - ì¤‘ê°„ ì†ë„ì—ì„œëŠ” ì¼ê´€ì„± ìˆê²Œ ì¹¨",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - ë°©í–¥ê³¼ ê¹Šì´ë¥¼ ì˜ ì¡°ì ˆí•¨",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - í¬í•¸ë“œë§Œí¼ ê°•ë ¥í•œ ë°±í•¸ë“œ"
                }
            },
            "serve": {
                "question": "ì„œë¸Œì˜ ì •í™•ì„±ê³¼ íŒŒì›ŒëŠ” ì–´ëŠ ì •ë„ì¸ê°€ìš”?",
                "description": "ì²« ì„œë¸Œì™€ ì„¸ì»¨ë“œ ì„œë¸Œì˜ ì„±ê³µë¥ ê³¼ íš¨ê³¼ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - ì„œë¸Œ ë„£ê¸°ë§Œ í•´ë„ ë‹¤í–‰",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ì„¸ì»¨ë“œ ì„œë¸ŒëŠ” ì–´ëŠ ì •ë„ ë„£ìŒ",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - ì²« ì„œë¸Œë„ ê°€ë” ì—ì´ìŠ¤",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - íŒŒì›Œì™€ ì •í™•ì„± ëª¨ë‘ ì¢‹ìŒ",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - ì••ë°•ê° ì†ì—ì„œë„ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì„œë¸Œ"
                }
            },
            "volley": {
                "question": "ë°œë¦¬ì™€ ë„¤íŠ¸ í”Œë ˆì´ë¥¼ í•  ìˆ˜ ìˆë‚˜ìš”?",
                "description": "ë„¤íŠ¸ì—ì„œì˜ í¸ì•ˆí•¨ê³¼ ë°œë¦¬ ë“ì  ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - ë„¤íŠ¸ ê·¼ì²˜ ê°€ëŠ” ê²ƒë„ ì‹«ì–´í•¨",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ê°„ë‹¨í•œ ë°œë¦¬ëŠ” ì–´ëŠ ì •ë„",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - í¬í•¸ë“œ ë°œë¦¬ëŠ” ê´œì°®ìŒ",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - ë°œë¦¬ë¥¼ ë“ì ìœ¼ë¡œ ì—°ê²° ê°€ëŠ¥",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - ë„¤íŠ¸ì—ì„œ ìƒëŒ€ë°©ì„ ì••ë°•í•˜ëŠ” ë°œë¦¬"
                }
            },
            "footwork": {
                "question": "í’‹ì›Œí¬ì™€ ì½”íŠ¸ ì»¤ë²„ë¦¬ì§€ëŠ” ì–´ëŠ ì •ë„ì¸ê°€ìš”?",
                "description": "ì½”íŠ¸ ì´ë™ê³¼ í¬ì§€ì…”ë‹ ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - ê³µ ë”°ë¼ê°€ëŠ” ê²ƒë„ í˜ë“¦",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ê¸°ë³¸ì ì¸ ì´ë™ì€ ê°€ëŠ¥",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - ì½”íŠ¸ ì»¤ë²„ë¦¬ì§€ê°€ ì–´ëŠ ì •ë„ ë¨",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - ë›°ì–´ë‚œ í’‹ì›Œí¬ë¡œ ëª¨ë“  ê³µ ì»¤ë²„",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - í”„ë¡œê¸‰ í’‹ì›Œí¬ì™€ í¬ì§€ì…”ë‹"
                }
            },
            "strategy": {
                "question": "ê²Œì„ ì „ëµì„ ì„¸ìš°ê³  ì‹¤í–‰í•  ìˆ˜ ìˆë‚˜ìš”?",
                "description": "ìƒëŒ€ë°© ë¶„ì„ê³¼ ì „ëµì  ì‚¬ê³  ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - ê·¸ëƒ¥ ê³µë§Œ ì¹˜ë©´ ë¨",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ê°„ë‹¨í•œ ì „ëµì€ ìƒê°í•¨",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - ìƒëŒ€ë°© ì•½ì ì„ ë…¸ë¦¼",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - ê²Œì„ì„ ì´ëŒì–´ê°€ëŠ” ì „ëµê°€",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - ì–´ë–¤ ìƒëŒ€ë°©ë„ ë¶„ì„í•˜ê³  ëŒ€ì‘"
                }
            },
            "consistency": {
                "question": "ì¼ê´€ì„± ìˆê²Œ ë ë¦¬ë¥¼ ì´ì–´ê°ˆ ìˆ˜ ìˆë‚˜ìš”?",
                "description": "ì•ˆì •ì ì¸ ìƒ·ê³¼ ì—ëŸ¬ ê´€ë¦¬ ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - 3ë²ˆ ì´ìƒ ë ë¦¬ ì´ì–´ê°€ê¸° í˜ë“¦",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ëŠë¦° í˜ì´ìŠ¤ì—ì„œ ì§§ì€ ë ë¦¬",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - ì¤‘ê°„ ì†ë„ì—ì„œ ì¼ê´€ì„± ìˆê²Œ",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - ë¹ ë¥¸ í˜ì´ìŠ¤ì—ì„œë„ ì•ˆì •ì ",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - ì–´ë–¤ ìƒí™©ì—ì„œë„ í”ë“¤ë¦¬ì§€ ì•ŠìŒ"
                }
            },
            "mental": {
                "question": "ê²Œì„ ì¤‘ ë©˜íƒˆ ê´€ë¦¬ê°€ ì˜ ë˜ë‚˜ìš”?",
                "description": "ì••ë°•ê°ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ ìƒí™©ì—ì„œì˜ ëŒ€ì²˜ ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.",
                "levels": {
                    1: "ì „í˜€ ëª»í•¨ - ì‹¤ìˆ˜í•˜ë©´ ë°”ë¡œ í¬ê¸°",
                    2: "ê°€ë” ê°€ëŠ¥í•¨ - ê°„ë‹¨í•œ ê²Œì„ì—ì„œëŠ” ê´œì°®ìŒ",
                    3: "ë³´í†µ ê°€ëŠ¥í•¨ - ì–´ëŠ ì •ë„ ì••ë°•ê°ì— ëŒ€ì²˜ ê°€ëŠ¥",
                    4: "ëŒ€ë¶€ë¶„ ê°€ëŠ¥í•¨ - ì¤‘ìš”í•œ ìˆœê°„ì—ë„ ì¹¨ì°©í•¨",
                    5: "í•­ìƒ ê°€ëŠ¥í•¨ - ì–´ë–¤ ìƒí™©ì—ì„œë„ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ë©˜íƒˆ"
                }
            }
        };

        // NTRP ë ˆë²¨ë³„ ìœ„íŠ¸ ìˆëŠ” ì„¤ëª…
        const ntrpDescriptions = {
            1.0: "í…Œë‹ˆìŠ¤ ì‹ ìƒì•„: ë¼ì¼“ì„ ì¡ê³  ì½”íŠ¸ì— ì²«ë°œì„ ë‚´ë””ë”˜ ë‹¹ì‹ ! í…Œë‹ˆìŠ¤ ì„¸ê³„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!",
            1.5: "í…Œë‹ˆìŠ¤ ê±¸ìŒë§ˆ: ê³µì„ ë•Œë¦¬ê³ ëŠ” ìˆëŠ”ë°, ì–´ë””ë¡œ ê°ˆì§€ëŠ” ê³µë§Œ ì•„ëŠ” ë‹¨ê³„! ì¼ë‹¨ ê³µì„ ë„˜ê¸°ëŠ” ê²Œ ëª©í‘œì£ .",
            2.0: "í…Œë‹ˆìŠ¤ ì´ˆê¸‰ ëª¨í—˜ê°€: ê³µì„ ë„˜ê¸°ê¸° ì‹œì‘í–ˆì§€ë§Œ, ì•„ì§ ê¸°ë³¸ê¸°ê°€ ì‹œê¸‰í•œ í…Œë¦°ì´! ë ë¦¬ëŠ” ì§§ì§€ë§Œ, ì—´ì •ì€ ë§Œë ™!",
            2.5: "í…Œë‹ˆìŠ¤ ê¸¸ì°¾ê¸° ì¤‘: ì–´ì„¤í”„ê²Œ ê³µì€ ì¹˜ì§€ë§Œ, ì–´ë””ë¡œ ê°€ì•¼ í• ì§€, ì™œ ì´ë ‡ê²Œ ì–´ë ¤ìš´ì§€ ê³ ë¯¼ì´ ë§ì€ ë‹¨ê³„. ê·¸ë˜ë„ ë ë¦¬ì˜ ë§›ì„ ì¡°ê¸ˆì”© ì•Œì•„ê°€ì£ !",
            3.0: "í…Œë‹ˆìŠ¤ ê¸°ë³¸ ë‹¤ì§€ê¸°: ì´ì œ ê³µì€ ì›¬ë§Œí¼ ì›í•˜ëŠ” ê³³ìœ¼ë¡œ ë³´ë‚´ì§€ë§Œ, ê¹Šì´ë‚˜ íŒŒì›ŒëŠ” ì•„ì§ ë¯¸ì™„ì„±! ë³µì‹ì—ì„œ 'ì›ì—… ì›ë°±'ì´ ìµìˆ™í•œ ì•Œëœ° í”Œë ˆì´ì–´.",
            3.5: "í…Œë‹ˆìŠ¤ ì‹¤ë ¥ ì í”„ ì¤‘: ì¼ê´€ì„±ê³¼ ì»¨íŠ¸ë¡¤ì„ ê°–ì¶”ê³  ìŠ¬ìŠ¬ ë„¤íŠ¸ í”Œë ˆì´ë„ ì‹œë„í•˜ëŠ” ë‹¨ê³„! 'ì € ì‚¬ëŒ ê½¤ ì¹˜ëŠ”ë°?' ì†Œë¦¬ ë“£ê¸° ì‹œì‘í•  ë•Œì£ .",
            4.0: "í…Œë‹ˆìŠ¤ ìˆ™ë ¨ì ì…ë¬¸: í¬í•¸ë“œ, ë°±í•¸ë“œ ëª¨ë‘ ê¹Šì´ì™€ ì»¨íŠ¸ë¡¤ì„ ê°–ì¶”ê³ , ì„œë¸Œë„ ì œë²• ë‚ ì¹´ë¡œìš´ ì•„ë§ˆì¶”ì–´ ê³ ìˆ˜! ê²Œì„ì˜ íë¦„ì„ ì½ê¸° ì‹œì‘í•©ë‹ˆë‹¤.",
            4.5: "í…Œë‹ˆìŠ¤ ì „ëµê°€ ì´ˆê¸‰: íŒŒì›Œ, ìŠ¤í•€, ì „ëµê¹Œì§€ ê²¸ë¹„í•œ í…Œë‹ˆìŠ¤ 'ê¾¼'! ê²Œì„ì„ ì´ëŒì–´ê°€ëŠ” ëŠ¥ë ¥ì´ ì¶œì¤‘í•˜ë©°, ì½”íŠ¸ì—ì„œ ìƒëŒ€ë°©ì„ ê´´ë¡­íˆê¸° ì‹œì‘í•©ë‹ˆë‹¤.",
            5.0: "í…Œë‹ˆìŠ¤ ì•„ë§ˆì¶”ì–´ ìµœê°•ì: ê°•ë ¥í•œ ê³µê²©ê³¼ ì •êµí•œ ê¸°ìˆ ì„ ê²¸ë¹„í•œ ì•„ë§ˆì¶”ì–´ ë ˆë²¨ì˜ ì •ì ! ì´ì œ ë™ë„¤ ì½”íŠ¸ì—ì„œëŠ” ì ìˆ˜ë¥¼ ì°¾ê¸° ì–´ë µì£ .",
            5.5: "í…Œë‹ˆìŠ¤ ì¤€í”„ë¡œì˜ ë²½: í”„ë¡œê¸‰ ê¸°ìˆ ê³¼ ì „ëµì„ ê°–ì¶”ê³  ì–´ë–¤ ìƒí™©ì—ì„œë„ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ë©˜íƒˆì˜ ì†Œìœ ì! ì•„ë§ˆì¶”ì–´ì™€ í”„ë¡œì˜ ê²½ê³„ì— ì„œ ìˆìŠµë‹ˆë‹¤.",
            6.0: "í…Œë‹ˆìŠ¤ í”„ë¡œí˜ì…”ë„: êµ­ê°€ëŒ€í‘œ, ëŒ€í•™ ì„ ìˆ˜, ë˜ëŠ” ì„¸ê³„ë¥¼ ë¬´ëŒ€ë¡œ ë›°ëŠ” ì§„ì •í•œ í…Œë‹ˆìŠ¤ ìŠ¤íƒ€! ì´ë“¤ì€ ê·¸ëƒ¥ 'í…Œë‹ˆìŠ¤ ê·¸ ìì²´'ì…ë‹ˆë‹¤.",
            7.0: "í…Œë‹ˆìŠ¤ ì›”ë“œí´ë˜ìŠ¤: ì„¸ê³„ì  ìˆ˜ì¤€ì˜ í…Œë‹ˆìŠ¤ ìŠ¤íƒ€! ì´ì œ ë‹¹ì‹ ì€ í…Œë‹ˆìŠ¤ì˜ ì‹ ì´ ë˜ì—ˆìŠµë‹ˆë‹¤."
        };

        // ì•± ìƒíƒœ
        let currentQuestionIndex = 0;
        let answers = {};
        let result = null;

        // ì§ˆë¬¸ í‚¤ ë°°ì—´
        const questionKeys = Object.keys(questions);

        // ì•± ë Œë”ë§ í•¨ìˆ˜
        function renderApp() {
            const app = document.getElementById('app');
            
            if (result) {
                renderResult(app);
            } else {
                renderQuestion(app);
            }
        }

        // ì§ˆë¬¸ ë Œë”ë§
        function renderQuestion(app) {
            const currentQuestionKey = questionKeys[currentQuestionIndex];
            const currentQuestion = questions[currentQuestionKey];
            
            app.innerHTML = `
                <h1>ğŸ¾ í…Œë‹ˆìŠ¤ NTRP ë ˆë²¨ í…ŒìŠ¤íŠ¸</h1>
                
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${((currentQuestionIndex + 1) / questionKeys.length) * 100}%"></div>
                </div>
                
                <div class="question-card">
                    <h2>ì§ˆë¬¸ ${currentQuestionIndex + 1} / ${questionKeys.length}</h2>
                    <p class="question">${currentQuestion.question}</p>
                    <p class="question-description">${currentQuestion.description}</p>
                    
                    <div class="options">
                        ${Object.entries(currentQuestion.levels).map(([score, description]) => `
                            <button class="option ${answers[currentQuestionKey] === parseInt(score) ? 'selected' : ''}" 
                                    onclick="selectAnswer('${currentQuestionKey}', ${score})">
                                <span class="score">${score}ì </span>
                                <span class="description">${description}</span>
                            </button>
                        `).join('')}
                    </div>
                </div>

                <div class="navigation">
                    ${currentQuestionIndex > 0 ? `
                        <button class="nav-btn prev" onclick="previousQuestion()">ì´ì „</button>
                    ` : ''}
                    
                    ${currentQuestionIndex < questionKeys.length - 1 ? `
                        <button class="nav-btn next" onclick="nextQuestion()" 
                                ${!answers[currentQuestionKey] ? 'disabled' : ''}>ë‹¤ìŒ</button>
                    ` : `
                        <button class="nav-btn submit" onclick="calculateResult()" 
                                ${Object.keys(answers).length < questionKeys.length ? 'disabled' : ''}>ê²°ê³¼ ë³´ê¸°</button>
                    `}
                </div>
            `;
        }

        // ê²°ê³¼ ë Œë”ë§
        function renderResult(app) {
            app.innerHTML = `
                <h1>ğŸ¾ NTRP í…ŒìŠ¤íŠ¸ ê²°ê³¼</h1>
                <div class="result-card">
                    <h2>ë‹¹ì‹ ì˜ NTRP ë ˆë²¨ì€</h2>
                    <div class="ntrp-level">${result.ntrp_level}</div>
                    <p class="description">${result.description}</p>
                    <div class="stats">
                        <p>í‰ê·  ì ìˆ˜: ${result.average_score}/5</p>
                        <p>ì‘ë‹µí•œ ì§ˆë¬¸: ${result.total_questions}ê°œ</p>
                    </div>
                </div>
                
                <div class="detailed-analysis">
                    <h3>ğŸ“Š ìƒì„¸ ë¶„ì„</h3>
                    
                    <div class="category-scores">
                        <h4>ì˜ì—­ë³„ ì ìˆ˜</h4>
                        <div class="score-grid">
                            ${Object.entries(result.category_scores).map(([category, score]) => `
                                <div class="score-item">
                                    <span class="category-name">${category}</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: ${(score / 5) * 100}%"></div>
                                    </div>
                                    <span class="score-value">${score}/5</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="strengths-weaknesses">
                        ${result.strengths && result.strengths.length > 0 ? `
                            <div class="strengths">
                                <h4>ğŸ’ª ê°•ì </h4>
                                <ul>
                                    ${result.strengths.map(strength => `<li>${strength}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                        
                        ${result.weaknesses && result.weaknesses.length > 0 ? `
                            <div class="weaknesses">
                                <h4>ğŸ¯ ê°œì„ ì </h4>
                                <ul>
                                    ${result.weaknesses.map(weakness => `<li>${weakness}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                    </div>
                    
                    ${result.improvement_suggestions ? `
                        <div class="improvement-suggestions">
                            <h4>ğŸ’¡ ê°œì„  ì œì•ˆ</h4>
                            <ul>
                                ${result.improvement_suggestions.map(suggestion => `<li>${suggestion}</li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}
                </div>
                
                <button class="restart-btn" onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            `;
        }

        // ë‹µë³€ ì„ íƒ
        function selectAnswer(questionKey, score) {
            answers[questionKey] = score;
            renderApp();
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            if (currentQuestionIndex < questionKeys.length - 1) {
                currentQuestionIndex++;
                renderApp();
            }
        }

        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderApp();
            }
        }

        // ê²°ê³¼ ê³„ì‚°
        function calculateResult() {
            const totalScore = Object.values(answers).reduce((sum, score) => sum + score, 0);
            const averageScore = totalScore / Object.keys(answers).length;
            
            // NTRP ë ˆë²¨ ê²°ì •
            let ntrpLevel;
            if (averageScore <= 1.5) ntrpLevel = 1.0;
            else if (averageScore <= 2.0) ntrpLevel = 1.5;
            else if (averageScore <= 2.5) ntrpLevel = 2.0;
            else if (averageScore <= 3.0) ntrpLevel = 2.5;
            else if (averageScore <= 3.5) ntrpLevel = 3.0;
            else if (averageScore <= 4.0) ntrpLevel = 3.5;
            else if (averageScore <= 4.5) ntrpLevel = 4.0;
            else if (averageScore <= 5.0) ntrpLevel = 4.5;
            else ntrpLevel = 5.0;

            // ìƒì„¸ ë¶„ì„
            const categoryNames = {
                "forehand": "í¬í•¸ë“œ",
                "backhand": "ë°±í•¸ë“œ",
                "serve": "ì„œë¸Œ",
                "volley": "ë°œë¦¬",
                "footwork": "í’‹ì›Œí¬",
                "strategy": "ì „ëµ",
                "consistency": "ì¼ê´€ì„±",
                "mental": "ë©˜íƒˆ"
            };

            const categoryScores = {};
            Object.keys(categoryNames).forEach(category => {
                if (answers[category]) {
                    categoryScores[categoryNames[category]] = answers[category];
                }
            });

            // ê°•ì ê³¼ ì•½ì  ë¶„ì„
            const strengths = [];
            const weaknesses = [];
            Object.entries(categoryScores).forEach(([category, score]) => {
                if (score >= 4) strengths.push(category);
                else if (score <= 2) weaknesses.push(category);
            });

            // ê°œì„  ì œì•ˆ
            const improvementSuggestions = [];
            if (weaknesses.includes("í¬í•¸ë“œ")) {
                improvementSuggestions.push("í¬í•¸ë“œ ê¸°ë³¸ê¸° ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤. ìŠ¤ìœ™ í¼ê³¼ íƒ€ì ì„ ì¤‘ì ì ìœ¼ë¡œ ì—°ìŠµí•´ë³´ì„¸ìš”.");
            }
            if (weaknesses.includes("ë°±í•¸ë“œ")) {
                improvementSuggestions.push("ë°±í•¸ë“œ ê·¸ë¦½ê³¼ ì¤€ë¹„ ë™ì‘ì„ ì—°ìŠµí•´ë³´ì„¸ìš”. ë°±í•¸ë“œë¥¼ í”¼í•˜ì§€ ë§ê³  ì ê·¹ì ìœ¼ë¡œ ì—°ìŠµí•˜ì„¸ìš”.");
            }
            if (weaknesses.includes("ì„œë¸Œ")) {
                improvementSuggestions.push("ì„œë¸Œ ì—°ìŠµì„ í†µí•´ ì •í™•ì„±ê³¼ íŒŒì›Œë¥¼ í–¥ìƒì‹œì¼œë³´ì„¸ìš”. ì„¸ì»¨ë“œ ì„œë¸Œë¶€í„° ì•ˆì •í™”í•˜ì„¸ìš”.");
            }
            if (weaknesses.includes("ë°œë¦¬")) {
                improvementSuggestions.push("ë„¤íŠ¸ í”Œë ˆì´ì— ìµìˆ™í•´ì§€ì„¸ìš”. ê°„ë‹¨í•œ ë°œë¦¬ë¶€í„° ì‹œì‘í•´ì„œ ì ì§„ì ìœ¼ë¡œ ë°œì „ì‹œí‚¤ì„¸ìš”.");
            }
            if (weaknesses.includes("í’‹ì›Œí¬")) {
                improvementSuggestions.push("ê¸°ë³¸ì ì¸ ì´ë™ ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤. ì‚¬ì´ë“œ ìŠ¤í…ê³¼ í¬ë¡œìŠ¤ì˜¤ë²„ ìŠ¤í…ì„ ì—°ìŠµí•˜ì„¸ìš”.");
            }
            if (weaknesses.includes("ì „ëµ")) {
                improvementSuggestions.push("ê²Œì„ ì¤‘ ìƒëŒ€ë°©ì„ ê´€ì°°í•˜ê³  ì•½ì ì„ ì°¾ì•„ë³´ì„¸ìš”. ë‹¤ì–‘í•œ ìƒ· ì¡°í•©ì„ ì—°ìŠµí•˜ì„¸ìš”.");
            }
            if (weaknesses.includes("ì¼ê´€ì„±")) {
                improvementSuggestions.push("ì•ˆì •ì ì¸ ìƒ·ì„ ìœ„í•´ ê¸°ë³¸ê¸°ë¥¼ íƒ„íƒ„íˆ í•˜ì„¸ìš”. ì—ëŸ¬ë¥¼ ì¤„ì´ëŠ” ì—°ìŠµì´ ì¤‘ìš”í•©ë‹ˆë‹¤.");
            }
            if (weaknesses.includes("ë©˜íƒˆ")) {
                improvementSuggestions.push("ì••ë°•ê°ì— ëŒ€ì²˜í•˜ëŠ” ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤. ì‹¤ìˆ˜ë¥¼ í•´ë„ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ë§ˆìŒê°€ì§ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.");
            }
            if (improvementSuggestions.length === 0) {
                improvementSuggestions.push("ì „ë°˜ì ìœ¼ë¡œ ì¢‹ì€ ì‹¤ë ¥ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë” ë†’ì€ ë ˆë²¨ì„ ìœ„í•´ ê³ ê¸‰ ê¸°ìˆ ì„ ì—°ìŠµí•´ë³´ì„¸ìš”.");
            }

            result = {
                ntrp_level: ntrpLevel,
                description: ntrpDescriptions[ntrpLevel] || "ì •ì˜ë˜ì§€ ì•Šì€ ë ˆë²¨",
                average_score: Math.round(averageScore * 10) / 10,
                total_questions: Object.keys(answers).length,
                category_scores: categoryScores,
                strengths: strengths,
                weaknesses: weaknesses,
                improvement_suggestions: improvementSuggestions
            };

            renderApp();
        }

        // í…ŒìŠ¤íŠ¸ ì¬ì‹œì‘
        function restartTest() {
            currentQuestionIndex = 0;
            answers = {};
            result = null;
            renderApp();
        }

        // ì•± ì´ˆê¸°í™”
        renderApp();
    </script>
</body>
</html> 